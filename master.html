<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>マスター管理ページ</title>
    <link rel="icon" type="image/png" href="assets/icon.png">
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <header>
        <h1>🔑 マスター管理 🔑</h1>
        
        <div id="master-header-actions" class="mt-10">
            <button type="button" id="master-logout-button" class="action-button secondary-button hidden w-auto">
                マスターログアウト
            </button>
        </div>
    </header>

    <main id="main-content">
        <section id="auth-section">
            <h2>認証</h2>
            <p class="instruction">マスターユーザー名とパスワードを入力してログインしてください。</p>
            <form id="auth-form">
                <div class="form-group">
                    <label for="username">ユーザー名:</label>
                    <input type="text" id="username" required>
                </div>
                <div class="form-group">
                    <label for="password">パスワード:</label>
                    <input type="password" id="password" required>
                </div>
                <button type="submit">認証</button>
            </form>
            <p id="auth-message" class="hidden"></p>
        </section>

        <section id="admin-tools" class="hidden">
            <h2>管理者ツール</h2>
            
            <div class="tool-box">
                <h3>🀄 麻雀結果入力</h3>
                <p class="instruction">4人の最終得点を入力</p>
                <form id="mahjong-form">
                    <div id="mahjong-player-inputs">
                        <p>プレイヤーリストをロード中...</p>
                    </div>
                    <button type="submit" id="mahjong-submit-button">結果を反映する</button>
                    <p id="mahjong-message" class="hidden"></p>
                </form>
            </div>

            <div class="tool-box">
                <h2>🎟️ 宝くじ開催</h2>
                <form id="create-lottery-form">
                    <div class="form-group">
                        <label for="lottery-name">宝くじ名:</label>
                        <input type="text" id="lottery-name" required>
                    </div>
                    <div class="form-group">
                        <label for="lottery-ticket-price">一口の購入額 (P):</label>
                        <input type="number" id="lottery-ticket-price" step="0.1" required>
                    </div>
                    <div class="form-group">
                        <label for="lottery-purchase-deadline">購入締切:</label>
                        <input type="datetime-local" id="lottery-purchase-deadline" required>
                    </div>
                    <div class="form-group">
                        <label for="lottery-result-announce">当選発表日:</label>
                        <input type="datetime-local" id="lottery-result-announce" required>
                    </div>
                    <!-- 当選設定省略 -->
                    <button type="submit" class="action-button" style="background-color: #38c172;">宝くじを開催</button>
                    <p id="create-lottery-message" class="hidden"></p>
                </form>
            </div>

            <div class="tool-box">
                <h2>⚽ スポーツくじ管理</h2>
                <form id="create-bet-form">
                    <div class="form-group">
                        <label for="match-name">くじ名:</label>
                        <input type="text" id="match-name" required>
                    </div>
                    <div class="form-group">
                        <label for="deadline-datetime">締切日時:</label>
                        <input type="datetime-local" id="deadline-datetime" required>
                    </div>
                    <button type="submit">くじを作成</button>
                </form>
                <div id="bet-list-container" class="mt-20"></div>
            </div>
            
            <div class="tool-box">
                <h3>± 特殊ポイント調整</h3>
                <form id="adjustment-form">
                    <select id="target-player" required></select>
                    <input type="number" id="adjust-amount" step="0.1" required>
                    <button type="submit">ポイント調整</button>
                </form>
            </div>
            
            <div class="tool-box">
                <h3>💰 日次ポイント徴収 (5%)</h3>
                <button type="button" id="daily-tax-button" class="action-button w-auto" style="background-color: #DAA520;">徴収実行</button>
                <p id="daily-tax-message" class="hidden"></p>
            </div>
        </section>
    </main>

    <footer>
        <nav class="footer-nav">
            <a href="index.html" class="input-link">ランキング</a>
            <a href="mypage.html" class="input-link">マイページ</a>
            <a href="master.html" class="input-link">マスター</a>
        </nav>
    </footer>

    <script src="assets/js/common.js"></script>
    <script src="assets/js/master.js"></script>
</body>
</html>
